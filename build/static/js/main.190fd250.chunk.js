(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{43:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),n=a(16),i=a.n(n),s=(a(43),a(15)),o=a(4),d=a(26),l=a(3),j=a(20),b=Object(j.a)({name:"modal",initialState:{status:!1},reducers:{showModal:function(e){e.status=!0},hideModal:function(e){e.status=!1}}}),h=b.actions,u=h.showModal,x=h.hideModal,m=function(e){return e.modal.status},O=b.reducer,v=a(0);var p=function(){return Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})};var f=function(){return Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})},w=a(19),g=a.n(w),y=a(11),k=a(38),N=Object(j.a)({name:"cities",initialState:{selectedCities:[],weatherInfoOfCity:[]},reducers:{addToList:function(e,t){t.payload.bookmarked=!1,t.payload.selected=!1,e.selectedCities=[].concat(Object(k.a)(e.selectedCities),[t.payload])},removeFromBookmarks:function(e,t){var a=e.selectedCities.findIndex((function(e){return e.id===t.payload}));e.selectedCities[a].bookmarked=!1,e.weatherInfoOfCity.id===t.payload&&(e.weatherInfoOfCity.bookmarked=!1)},addToBookmarks:function(e,t){var a=e.selectedCities.findIndex((function(e){return e.id===t.payload}));e.selectedCities[a].bookmarked=!0,e.weatherInfoOfCity.id===t.payload&&(e.weatherInfoOfCity.bookmarked=!0)},updateSelectedCity:function(e,t){var a=e.selectedCities.findIndex((function(e){return e.id===t.payload.id}));e.selectedCities=e.selectedCities.map((function(e){return Object(y.a)(Object(y.a)({},e),{},{selected:!1})})),e.selectedCities[a].selected=!0,e.selectedCities[a].weatherData=t.payload.weatherData},addWeatherInfoOfCity:function(e,t){e.weatherInfoOfCity=t.payload}}}),C=N.actions,I=C.addToList,M=C.addToBookmarks,B=C.removeFromBookmarks,L=C.addWeatherInfoOfCity,D=C.updateSelectedCity,W=function(e){return e.cities.selectedCities},S=function(e){return e.cities.weatherInfoOfCity},H=N.reducer;var F=function(){return Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"inline-block h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})};var A=function(e){var t=e.content,a=Object(l.b)(),c=Object(l.c)(W);return Object(v.jsxs)("button",{onClick:function(){if(c.find((function(e){return e.id===t.id})))alert("Already exists in the list.");else{var e=t.location,r="https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat("d4b9fedc669894ea03bdbbc9a08abd68","&units=metric");g.a.get(r).then((function(e){t.weatherData=e.data,a(x()),a(I(t))}))}},className:"flex justify-between text-left w-full p-3 my-3 rounded-md cursor-pointer border hover:bg-gray-200",children:[Object(v.jsx)("span",{children:t.city}),Object(v.jsx)(F,{})]})};var z=function(){var e=Object(l.c)(m),t=Object(l.b)(),a=Object(c.useRef)(null),r=Object(c.useState)([{id:1,city:"Delhi",location:"Delhi,IN"},{id:2,city:"Surat",location:"Surat,IN"},{id:3,city:"Chennai",location:"Chennai,IN"},{id:4,city:"Goa",location:"Goa,IN"},{id:5,city:"Rajasthan",location:"Rajasthan,IN"},{id:6,city:"Bihar",location:"Bihar,IN"},{id:7,city:"Hyderabad",location:"Hyderabad,IN"}]),n=Object(d.a)(r,1)[0],i=Object(c.useState)(n),s=Object(d.a)(i,2),o=s[0],j=s[1];return Object(v.jsx)("div",{className:e?"block":"hidden",children:Object(v.jsx)("div",{className:"fixed top-0 left-0 w-screen h-screen bg-black bg-opacity-50",children:Object(v.jsxs)("div",{className:"relative inset-1/2 transform -translate-y-1/2 -translate-x-1/2 bg-white p-10 max-w-md h-524",children:[Object(v.jsxs)("div",{className:"flex justify-between border-b-2 pb-3",children:[Object(v.jsx)("h2",{className:"text-2xl",children:"Add city Modal"}),Object(v.jsx)("button",{onClick:function(){t(x())},"aria-label":"Close",children:Object(v.jsx)(p,{})})]}),Object(v.jsxs)("div",{className:"relative mt-4 pb-4 border-b-2",children:[Object(v.jsx)("span",{className:"absolute top-2.5 left-2",children:Object(v.jsx)(f,{})}),Object(v.jsx)("input",{className:"border rounded-md shadow-lg outline-none w-full pl-8 p-2",placeholder:"Search city",type:"search",name:"search cities",ref:a,onChange:function(e){e.preventDefault(),j(n.filter((function(e){return-1!==e.city.toLowerCase().indexOf(a.current.value.toLowerCase())})))}})]}),o.length?Object(v.jsx)("div",{className:"max-h-80 overflow-scroll",children:o.map((function(e){return Object(v.jsx)(A,{content:e},e.id)}))}):""]})})})};var T=function(){return Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})};var R=function(e){var t=e.bookmarked,a=e.cityId,c=Object(l.b)();return Object(v.jsx)("button",{className:t?"p-2.5 active":"p-2.5",onClick:function(){c(t?B(a):M(a))},"aria-label":"Bookmark",children:Object(v.jsx)(T,{})})};var q=function(e){var t=e.data,a=t.weather[0].icon,c=t.weather[0].main,r=t.main.temp,n=t.main.humidity,i=t.wind.speed;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"col-span-full",children:Object(v.jsx)("img",{className:"m-auto",src:"http://openweathermap.org/img/wn/".concat(a,"@2x.png"),alt:c})}),Object(v.jsxs)("div",{children:["Temperature: ",Math.round(r),"\xb0C"]}),Object(v.jsxs)("div",{children:["Humidity: ",n]}),Object(v.jsxs)("div",{children:["Weather: ",c]}),Object(v.jsxs)("div",{children:["Wind speed: ",Math.round(6*i)," km/h"]})]})};var V=function(e){var t=e.city,a=e.bookmarked,c=e.cityId,r=e.weatherData;return Object(v.jsxs)("div",{className:"border-2 rounded-md p-4 transition-shadow hover:shadow-xl hover:filter hover:backdrop-blur-lg cursor-pointer",children:[Object(v.jsxs)("div",{className:"flex justify-between items-center pb-2 border-b",children:[Object(v.jsx)("h3",{children:t}),Object(v.jsx)(R,{bookmarked:a,cityId:c})]}),Object(v.jsx)("div",{className:"mt-4 grid grid-cols-2 text-sm gap-4",children:Object(v.jsx)(q,{data:r})})]})};var G=function(){var e=Object(l.c)(W),t=Object(l.b)();return Object(v.jsxs)("div",{className:"pt-10",children:[Object(v.jsxs)("div",{className:"flex justify-between items-center text-md",children:[Object(v.jsx)("h2",{className:"text-2xl",children:"My Favorite cities"}),Object(v.jsxs)("button",{className:"bg-gray-50 p-3 px-6 transition text-sm rounded-sm hover:bg-yellow-100",onClick:function(){t(u())},children:["Add new City",Object(v.jsx)("span",{className:"ml-1",children:Object(v.jsx)(F,{})})]})]}),e.length?Object(v.jsx)("div",{className:"grid grid-cols-3 gap-y-8 gap-x-6 mt-10",children:e.map((function(e){return e.bookmarked?Object(v.jsx)(V,{city:e.city,cityId:e.id,bookmarked:e.bookmarked,weatherData:e.weatherData},e.id):""}))}):Object(v.jsx)("h2",{className:"mt-24 text-2xl text-center text-gray-300",children:"No city bookmarked"})]})};var J=function(e){var t=e.data,a=Object(l.b)();return Object(v.jsxs)("div",{className:t.selected?"flex cursor-pointer hover:bg-gray-100 border rounded-lg p-3 my-3 justify-between bg-gray-200":"flex cursor-pointer hover:bg-gray-100 border rounded-lg p-3 my-3 justify-between",onClick:function(){var e=Object(y.a)(Object(y.a)({},t),{},{selected:!0});a(D(e)),a(L(e))},children:[Object(v.jsx)("h4",{children:t.city}),Object(v.jsxs)("span",{children:[Math.round(t.weatherData.main.temp),"\xb0C"]})]})};var E=function(){var e=Object(l.c)(W),t=Object(l.b)();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"flex justify-between items-center pb-3 border-b mb-6",children:[Object(v.jsx)("h2",{className:"text-2xl",children:"Cities"}),Object(v.jsx)("button",{className:"bg-gray-50 p-3 transition text-sm rounded-sm hover:bg-yellow-100",onClick:function(){t(u())},children:Object(v.jsx)(F,{})})]}),e.length?Object(v.jsx)("div",{children:e.map((function(e){return Object(v.jsx)(J,{data:e},e.id)}))}):Object(v.jsx)("h2",{className:"text-2xl text-center text-gray-300",children:"No city added"})]})};var U=function(e){var t=e.lat,a=e.lon;return Object(v.jsx)("div",{children:Object(v.jsx)("iframe",{title:"maps",width:"100%",height:600,frameBorder:0,scrolling:"no",marginHeight:0,marginWidth:0,src:"https://maps.google.com/maps?width=100%25&height=600&hl=en&q=".concat(t,",").concat(a,"&t=&z=10&ie=UTF8&iwloc=B&output=embed")})})};var $=function(){return Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(v.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})};var K=function(e){var t=e.data,a=Object(l.b)();return Object(v.jsx)("button",{className:"bg-gray-50 p-3 mr-2 transition text-sm rounded-sm hover:bg-yellow-100",onClick:function(){var e=t.location,c="https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat("d4b9fedc669894ea03bdbbc9a08abd68","&units=metric");g.a.get(c).then((function(e){var c=Object(y.a)(Object(y.a)({},t),{},{weatherData:e.data});a(D(c)),a(L(c))}))},children:Object(v.jsx)($,{})})};var P=function(){var e,t,a,c,r=Object(l.c)(S),n=null===r||void 0===r||null===(e=r.weatherData)||void 0===e||null===(t=e.coord)||void 0===t?void 0:t.lat,i=null===r||void 0===r||null===(a=r.weatherData)||void 0===a||null===(c=a.coord)||void 0===c?void 0:c.lon;return Object(v.jsx)(v.Fragment,{children:Object.keys(r).length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"flex justify-between items-center pb-3 border-b mb-6",children:[Object(v.jsx)("h2",{className:"text-2xl",children:r.city}),Object(v.jsxs)("div",{children:[Object(v.jsx)(K,{data:r}),Object(v.jsx)(R,{bookmarked:r.bookmarked,cityId:r.id})]})]}),Object(v.jsx)("div",{className:"grid grid-cols-4 gap-4 text-sm pb-3 border-b mb-4",children:Object(v.jsx)(q,{data:r.weatherData})}),Object(v.jsx)(U,{lat:n,lon:i})]}):Object(v.jsx)("div",{className:"flex h-full items-center justify-center",children:Object(v.jsx)("h2",{className:"text-2xl text-center text-gray-300",children:"No city selected"})})})};var Q=function(){return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"grid grid-cols-12 gap-4 -mt-3 pt-10 h-screen",children:[Object(v.jsx)("div",{className:"col-span-4 border-2 p-3",children:Object(v.jsx)(E,{})}),Object(v.jsx)("div",{className:"col-span-8 border-2 p-3",children:Object(v.jsx)(P,{})})]})})};var X=function(){return Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})};var Y=function(){return Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})};var Z=function(){return Object(v.jsxs)("header",{className:"fixed top-0 bottom-0 bg-white shadow",children:[Object(v.jsx)(s.b,{className:"block p-5 text-xs hover:bg-yellow-100 mt-8 border-b",activeClassName:"active",exact:!0,to:"/",children:Object(v.jsx)(Y,{})}),Object(v.jsx)(s.b,{className:"block p-5 text-xs hover:bg-yellow-100 border-b",activeClassName:"active",to:"/cities",children:Object(v.jsx)(X,{})})]})};var _=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(s.a,{children:[Object(v.jsx)(Z,{}),Object(v.jsx)(z,{}),Object(v.jsx)("div",{className:"ml-32 mr-16 pb-16 max-w-screen-xl",children:Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{exact:!0,path:"/",children:Object(v.jsx)(G,{})}),Object(v.jsx)(o.a,{exact:!0,path:"/cities",children:Object(v.jsx)(Q,{})})]})})]})})},ee=a(5),te=a(25),ae=a(36),ce=a.n(ae),re=Object(ee.b)({modal:O,cities:H}),ne={key:"app",storage:ce.a},ie=Object(te.a)(ne,re),se=Object(ee.d)(ie,Object(ee.a)()),oe=Object(te.b)(se);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var de=a(37);i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(l.a,{store:se,children:Object(v.jsx)(de.a,{loading:null,persistor:oe,children:Object(v.jsx)(_,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.190fd250.chunk.js.map